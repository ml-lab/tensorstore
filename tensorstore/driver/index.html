

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Drivers &mdash; TensorStore  documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/language_data.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/sphinx_rtd_theme_table_word_wrap_fix.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="cast Driver" href="cast/index.html" />
    <link rel="prev" title="TensorStore JSON Spec" href="../../spec.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> TensorStore
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installation.html">Building and Installing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../index_space.html">Index space</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../context.html">Context framework</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../spec.html">TensorStore JSON Spec</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Drivers</a><ul>
<li class="toctree-l2"><a class="reference internal" href="cast/index.html"><code class="docutils literal notranslate"><span class="pre">cast</span></code> Driver</a></li>
<li class="toctree-l2"><a class="reference internal" href="array/index.html"><code class="docutils literal notranslate"><span class="pre">array</span></code> Driver</a></li>
<li class="toctree-l2"><a class="reference internal" href="#chunked-storage-drivers">Chunked storage drivers</a><ul>
<li class="toctree-l3"><a class="reference internal" href="zarr/index.html"><code class="docutils literal notranslate"><span class="pre">zarr</span></code> Driver</a></li>
<li class="toctree-l3"><a class="reference internal" href="n5/index.html"><code class="docutils literal notranslate"><span class="pre">n5</span></code> Driver</a></li>
<li class="toctree-l3"><a class="reference internal" href="neuroglancer_precomputed/index.html"><code class="docutils literal notranslate"><span class="pre">neuroglancer_precomputed</span></code> Driver</a></li>
<li class="toctree-l3"><a class="reference internal" href="#chunked-storage-driver-json-schema">Chunked storage driver JSON Schema</a></li>
<li class="toctree-l3"><a class="reference internal" href="#cache-revalidation-bound-json-schema">Cache revalidation bound JSON Schema</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../kvstore/index.html">Key-Value Storage Layer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../python/index.html">Python API</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">TensorStore</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
      <li>Drivers</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/tensorstore/driver/index.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="drivers">
<span id="tensorstore-drivers"></span><h1>Drivers<a class="headerlink" href="#drivers" title="Permalink to this headline">¶</a></h1>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="cast/index.html"><code class="docutils literal notranslate"><span class="pre">cast</span></code> Driver</a></li>
<li class="toctree-l1"><a class="reference internal" href="array/index.html"><code class="docutils literal notranslate"><span class="pre">array</span></code> Driver</a></li>
</ul>
</div>
<div class="section" id="chunked-storage-drivers">
<h2>Chunked storage drivers<a class="headerlink" href="#chunked-storage-drivers" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="zarr/index.html"><code class="docutils literal notranslate"><span class="pre">zarr</span></code> Driver</a></li>
<li class="toctree-l1"><a class="reference internal" href="n5/index.html"><code class="docutils literal notranslate"><span class="pre">n5</span></code> Driver</a></li>
<li class="toctree-l1"><a class="reference internal" href="neuroglancer_precomputed/index.html"><code class="docutils literal notranslate"><span class="pre">neuroglancer_precomputed</span></code> Driver</a></li>
</ul>
</div>
<div class="section" id="chunked-storage-driver-json-schema">
<span id="json-schema-https://github.com/google/tensorstore/json-schema/driver/key-value-store-backed-chunk-driver"></span><h3>Chunked storage driver JSON Schema<a class="headerlink" href="#chunked-storage-driver-json-schema" title="Permalink to this headline">¶</a></h3>
<p>Common options supported by all chunked storage drivers.</p>
<p><code class="docutils literal notranslate"><span class="pre">object</span></code> with members:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 0%" />
<col style="width: 100%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">driver</span></code><div class="docutils container">
<strong>Required</strong></div>
</td>
<td><div class="docutils container">
string</div>
<span>Driver identifier  </span><p>Specifies the <a class="reference internal" href="#tensorstore-drivers"><span class="std std-ref">TensorStore driver</span></a>.</p>
</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">context</span></code></td>
<td><div class="docutils container">
<span><a class="reference internal" href="../../context.html#json-schema-https://github.com/google/tensorstore/json-schema/context"><span class="std std-ref">Context</span></a></span></div>
<p>Specifies context resources that augment/override the parent context.</p>
</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">dtype</span></code></td>
<td><div class="docutils container">
<span><a class="reference internal" href="../../spec.html#json-schema-https://github.com/google/tensorstore/json-schema/dtype"><span class="std std-ref">Data type</span></a></span></div>
<p>Specifies the data type.</p>
</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">rank</span></code></td>
<td><div class="docutils container">
integer [0, ∞)</div>
</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">transform</span></code></td>
<td><div class="docutils container">
<span><a class="reference internal" href="../../spec.html#json-schema-https://github.com/google/tensorstore/json-schema/index-transform"><span class="std std-ref">Index transform</span></a></span></div>
<p>Specifies a transform.</p>
</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">kvstore</span></code><div class="docutils container">
<strong>Required</strong></div>
</td>
<td><div class="docutils container">
<span><a class="reference internal" href="../kvstore/index.html#json-schema-https://github.com/google/tensorstore/json-schema/key-value-store"><span class="std std-ref">Key-Value Store</span></a></span></div>
<p>Specifies the underlying storage mechanism.</p>
</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">path</span></code></td>
<td><div class="docutils container">
string (default is <code class="code highlight json docutils literal notranslate"><span class="s2"><span class="pre">“”</span></span></code>)</div>
<p>Path within the <a class="reference internal" href="../kvstore/index.html#json-schema-https://github.com/google/tensorstore/json-schema/key-value-store"><span class="std std-ref">Key-Value Store</span></a> specified by <code class="docutils literal notranslate"><span class="pre">kvstore</span></code>.</p>
<div class="literal-block-wrapper docutils container" id="id1">
<div class="code-block-caption"><span class="caption-text">Example</span><a class="headerlink" href="#id1" title="Permalink to this code">¶</a></div>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;path/to/data&quot;</span>
</pre></div>
</div>
</div>
</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">open</span></code></td>
<td><div class="docutils container">
<code class="docutils literal notranslate"><span class="pre">boolean</span></code></div>
<p>Open an existing TensorStore.  If neither <code class="docutils literal notranslate"><span class="pre">open</span></code> nor <code class="docutils literal notranslate"><span class="pre">create</span></code> is specified, defaults to <code class="code highlight json docutils literal notranslate"><span class="kc"><span class="pre">true</span></span></code>.</p>
</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">create</span></code></td>
<td><div class="docutils container">
<code class="docutils literal notranslate"><span class="pre">boolean</span></code> (default is <code class="code highlight json docutils literal notranslate"><span class="kc"><span class="pre">false</span></span></code>)</div>
<p>Create a new TensorStore.  Specify <code class="code highlight json docutils literal notranslate"><span class="kc"><span class="pre">true</span></span></code> for both <code class="docutils literal notranslate"><span class="pre">open</span></code> and <code class="docutils literal notranslate"><span class="pre">create</span></code> to permit either opening an existing TensorStore or creating a new TensorStore if it does not already exist.</p>
</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">delete_existing</span></code></td>
<td><div class="docutils container">
<code class="docutils literal notranslate"><span class="pre">boolean</span></code> (default is <code class="code highlight json docutils literal notranslate"><span class="kc"><span class="pre">false</span></span></code>)</div>
<p>Delete any existing data at the specified path before creating a new TensorStore.  Requires that <code class="docutils literal notranslate"><span class="pre">create</span></code> is <code class="code highlight json docutils literal notranslate"><span class="kc"><span class="pre">true</span></span></code>, and that <code class="docutils literal notranslate"><span class="pre">open</span></code> is <code class="code highlight json docutils literal notranslate"><span class="kc"><span class="pre">false</span></span></code>.</p>
</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">allow_metadata_mismatch</span></code></td>
<td><div class="docutils container">
<code class="docutils literal notranslate"><span class="pre">boolean</span></code> (default is <code class="code highlight json docutils literal notranslate"><span class="kc"><span class="pre">false</span></span></code>)</div>
<p>Allow a mismatch between the existing metadata and the metadata specified for creating a new TensorStore.  Requires that <code class="docutils literal notranslate"><span class="pre">create</span></code> is <code class="code highlight json docutils literal notranslate"><span class="kc"><span class="pre">true</span></span></code>.</p>
</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">cache_pool</span></code></td>
<td><div class="docutils container">
<span><a class="reference internal" href="../../context.html#json-schema-https://github.com/google/tensorstore/json-schema/context-resource"><span class="std std-ref">Context resource</span></a></span> (default is <code class="code highlight json docutils literal notranslate"><span class="s2"><span class="pre">“cache_pool”</span></span></code>)</div>
<p>Specifies or references a previously defined <a class="reference internal" href="../../context.html#json-schema-https://github.com/google/tensorstore/json-schema/context/cache_pool"><span class="std std-ref">cache_pool context resource</span></a>. It is normally more convenient to specify a default <code class="docutils literal notranslate"><span class="pre">cache_pool</span></code> in the <code class="docutils literal notranslate"><span class="pre">context</span></code>.</p>
</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">data_copy_concurrency</span></code></td>
<td><div class="docutils container">
<span><a class="reference internal" href="../../context.html#json-schema-https://github.com/google/tensorstore/json-schema/context-resource"><span class="std std-ref">Context resource</span></a></span> (default is <code class="code highlight json docutils literal notranslate"><span class="s2"><span class="pre">“data_copy_concurrency”</span></span></code>)</div>
<p>Specifies or references a previously defined <a class="reference internal" href="../../context.html#json-schema-https://github.com/google/tensorstore/json-schema/context/data_copy_concurrency"><span class="std std-ref">data_copy_concurrency context resource</span></a>. It is normally more convenient to specify a default <code class="docutils literal notranslate"><span class="pre">data_copy_concurrency</span></code> in the <code class="docutils literal notranslate"><span class="pre">context</span></code>.</p>
</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">recheck_cached_metadata</span></code></td>
<td><div class="docutils container">
<span><a class="reference internal" href="#json-schema-https://github.com/google/tensorstore/json-schema/cache-revalidation-bound"><span class="std std-ref">Cache revalidation bound</span></a></span> (default is <code class="code highlight json docutils literal notranslate"><span class="s2"><span class="pre">“open”</span></span></code>)</div>
<p>Time after which cached metadata is assumed to be fresh.  Cached
metadata older than the specified time is revalidated prior to use.  The
metadata is used to check the bounds of every read or write operation.</p>
<p>Specifying <code class="code highlight json docutils literal notranslate"><span class="kc"><span class="pre">true</span></span></code> means that the metadata will be revalidated
prior to every read or write operation.  With the default value of
<code class="code highlight json docutils literal notranslate"><span class="s2"><span class="pre">“open”</span></span></code>, any cached metadata is revalidated when the TensorStore
is opened but is not rechecked for each read or write operation.</p>
</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">recheck_cached_data</span></code></td>
<td><div class="docutils container">
<span><a class="reference internal" href="#json-schema-https://github.com/google/tensorstore/json-schema/cache-revalidation-bound"><span class="std std-ref">Cache revalidation bound</span></a></span> (default is <code class="code highlight json docutils literal notranslate"><span class="kc"><span class="pre">true</span></span></code>)</div>
<p>Time after which cached data is assumed to be fresh.  Cached data older
than the specified time is revalidated prior to being returned from a
read operation.  Partial chunk writes are always consistent regardless
of the value of this option.</p>
<p>The default value of <code class="code highlight json docutils literal notranslate"><span class="kc"><span class="pre">true</span></span></code> means that cached data is revalidated
on every read.  To enable in-memory data caching, you must both specify
a <a class="reference internal" href="../../context.html#json-schema-https://github.com/google/tensorstore/json-schema/context/cache_pool"><span class="std std-ref">cache_pool context resource</span></a>
with a non-zero <code class="docutils literal notranslate"><span class="pre">total_bytes_limit</span></code> and also specify
<code class="code highlight json docutils literal notranslate"><span class="kc"><span class="pre">false</span></span></code>, <code class="code highlight json docutils literal notranslate"><span class="s2"><span class="pre">“open”</span></span></code>, or an explicit time bound for
<code class="docutils literal notranslate"><span class="pre">recheck_cached_data</span></code>.</p>
</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="cache-revalidation-bound-json-schema">
<span id="json-schema-https://github.com/google/tensorstore/json-schema/cache-revalidation-bound"></span><h3>Cache revalidation bound JSON Schema<a class="headerlink" href="#cache-revalidation-bound-json-schema" title="Permalink to this headline">¶</a></h3>
<div class="docutils container">
<code class="code highlight json docutils literal notranslate"><span class="kc"><span class="pre">true</span></span></code> | <code class="code highlight json docutils literal notranslate"><span class="kc"><span class="pre">false</span></span></code> | <code class="code highlight json docutils literal notranslate"><span class="s2"><span class="pre">“open”</span></span></code> | number (-∞, ∞)</div>
<p>Determines under what circumstances cached data is revalidated.</p>
<div class="docutils container">
One of:</div>
<ul>
<li><div class="docutils container">
<code class="code highlight json docutils literal notranslate"><span class="kc"><span class="pre">true</span></span></code></div>
<p>Revalidate cached data at every operation.</p>
</li>
<li><div class="docutils container">
<code class="code highlight json docutils literal notranslate"><span class="kc"><span class="pre">false</span></span></code></div>
<p>Assume cached data is always fresh and never revalidate.</p>
</li>
<li><div class="docutils container">
<code class="code highlight json docutils literal notranslate"><span class="s2"><span class="pre">“open”</span></span></code></div>
<p>Revalidate cached data older than the time at which the TensorStore was opened.</p>
</li>
<li><div class="docutils container">
number (-∞, ∞)</div>
<p>Revalidate cached data older than the specified time in seconds since the unix epoch.</p>
</li>
</ul>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="cast/index.html" class="btn btn-neutral float-right" title="cast Driver" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../../spec.html" class="btn btn-neutral float-left" title="TensorStore JSON Spec" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020 The TensorStore Authors

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>